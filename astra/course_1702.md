# Курс 1702 Администрирование Astra Linux

https://www.aldpro.ru/professional/

Типы репозиториев:
- main - сертифицированный установочный диск
- base - расширенный репозиторий, содержит в себе main и средства разработки, и пакеты, необходимые для сборки пакетов из main. Пакеты возможно доработаны для работы с системой защиты astra
- extended - все совместимое с астрой ПО

## После установки

После установки необходимо проверить версию ОС и ядра
```bash
lsbrelease -a # или cat /etc/astra_version
uname -a
```

Необходимо проверить состояние мандатного контроля целостности на файловой системе:
```bash
sudo set-fs-ilev status -v
```

Пользователь, созданный во время установки, входит в группу astra-admin.
Root по умолчанию заблокирован.

Проверить объем свободного места:
`df -h`

## Установка обновлений

Проверить контрольную сумму обновления: `gostsum -d update.iso` или `gostsum -d /dev/sr0`.

Установить обновление `sudo astra-update -k -a update.iso`

Опционально `sudo apt install gcc make linux-headers-$(uname -r)`

## Другое

Максимальный уровень мандатной целостности - 63. Необходим для административных действий.

`/etc/grub.d/`, `/boot/grub/grub.cfg` - настройки загрузчика

`history -c` - очистка истории
`!!` - вызов предыдущей команды

Переменная окружения PS1 отвечает за формат приглашения.

## Использование справочных ресурсов

- Подсказки самих команд
- Помощь по встроенным командам:
  - Встроенные в bash: `man builtins`
  - Встроенные в систему: `help`
- **man** - встроенный справочник Linux
- **info** - справочная система
- Электронная справка Astra Linux - `alt+f1` - вызов справки astra linux
- wiki.astralinux.ru

### man

Всего 8 разделов в man:
1. Исполняемые программы и ли команды оболочки
2. Системые вызовы (функции, предоставляемые ядром)
3. Библиотечные вызовы
4. Специальные файлы (из каталога /dev)
5. Форматы файлов и соглашения (например /etc/passwd)
6. Игры
7. Разное (макросы, соглашения)
8. Команды адмнистрирования системы (в т.ч. демоны)
9. Процедуры ядра (нестандартный раздел)

Режимы работы man:
- man объект
- `man -a объект` - вывод всех доступных справочников
- `man -f объект` - ведёт поиск по заголовкам и возвращает все вхождения
- `man -k строка_поиска` - поиск по кратким описаниям, а также заголовкам страниц
- `man -K строка_поиска` - поиск текста во всех справочных страницах. Поиск идет по исходному тексту, поэтому ищет даже по комментариям
- `man номер объект` - поиск в конкретном разделе

### info

Гипертектовая справочная система
Навигация - H - помощь, u - переход на уровень выше, p - предыдущий узел, n - следующий узел



